<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="renderer" content="webkit">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    <title>ç»´CåŠ é€Ÿ - å®¢æˆ·ç«¯ä¸‹è½½</title>
    <link rel="shortcut icon" type="image/x-icon" href="./img/icon_512x512@2x.png">
    <link rel="icon" href="./img/favicon.ico">
    
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    
    <style type="text/css">
        /* --- é¢œè‰²å˜é‡ (Cyber Grid Theme) --- */
        :root {
            --bg-dark: #121212;
            --grid-color: #1c1c1c;
            --text-light: #f0f0f0;
            --accent-blue: #00e0ff; /* ç”µå…‰è“ */
            --accent-glow: 0 0 15px rgba(0, 224, 255, 0.6);
            --card-bg: #1e1e1e;
            --border-radius-lg: 12px;
            --shadow-subtle: 0 5px 15px rgba(0, 0, 0, 0.5);
        }

        /* --- å…¨å±€æ ·å¼ --- */
        * { box-sizing: border-box; }
        body {
            font-family: 'Space Grotesk', sans-serif;
            color: var(--text-light);
            background-color: var(--bg-dark);
            min-height: 100vh;
            margin: 0;
            padding: 50px 20px;
            display: flex;
            justify-content: center;
            align-items: flex-start;
            /* æ¨¡æ‹Ÿå¾®å¼±çš„èƒŒæ™¯ç½‘æ ¼ */
            background-image: linear-gradient(to right, var(--grid-color) 1px, transparent 1px),
                              linear-gradient(to bottom, var(--grid-color) 1px, transparent 1px);
            background-size: 50px 50px;
        }

        .container {
            width: 100%;
            max-width: 1100px;
        }
        
        /* --- å¤´éƒ¨åŒºåŸŸ --- */
        .header {
            text-align: center;
            margin-bottom: 50px;
            padding-bottom: 20px;
            border-bottom: 1px solid var(--grid-color);
        }
        .logo {
            width: 80px;
            height: 80px;
            margin-bottom: 15px;
            border-radius: 20%;
            box-shadow: var(--shadow-subtle);
        }
        .title {
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--accent-blue);
            text-shadow: 0 0 10px rgba(0, 224, 255, 0.3);
            margin: 0;
        }
        .subtitle {
            font-size: 1.1rem;
            color: #aaa;
            margin-top: 5px;
        }

        /* --- ä¸‹è½½å¡ç‰‡ç½‘æ ¼å¸ƒå±€ --- */
        .download-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin-bottom: 40px;
        }

        .platform-card {
            background-color: var(--card-bg);
            border: 1px solid var(--grid-color);
            border-radius: var(--border-radius-lg);
            padding: 25px;
            transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1); /* ä¼˜åŒ–è¿‡æ¸¡æ•ˆæœ */
            box-shadow: var(--shadow-subtle);
            position: relative;
            overflow: hidden;
        }
        
        /* 1. å¢å¼ºå¡ç‰‡ Hover å‘å…‰æ•ˆæœ */
        .platform-card:hover {
            border-color: #0088aa; 
            box-shadow: 0 0 10px rgba(0, 224, 255, 0.4); 
            transform: translateY(-3px); /* å‘ä¸Šæµ®åŠ¨ */
        }

        /* æ¨è/æ¿€æ´»çŠ¶æ€ */
        .platform-card.recommended {
            border-color: var(--accent-blue);
            box-shadow: var(--accent-glow), 0 0 5px var(--accent-blue);
            transform: scale(1.03);
            z-index: 10;
        }
        /* æ¨èå¡ç‰‡ Hover å‘å…‰æ•ˆæœæ›´å¼º */
        .platform-card.recommended:hover {
            border-color: #00e0ff;
            box-shadow: 0 0 20px rgba(0, 224, 255, 0.8), 0 0 8px #00e0ff;
            transform: scale(1.04); 
        }

        .platform-card.recommended .card-header::after {
            content: 'å½“å‰è®¾å¤‡';
            position: absolute;
            top: 15px;
            right: -30px;
            background-color: var(--accent-blue);
            color: var(--bg-dark);
            padding: 2px 35px;
            font-size: 0.75rem;
            font-weight: 700;
            transform: rotate(45deg);
            box-shadow: 0 0 5px var(--accent-blue);
        }

        .card-header {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
        }
        .platform-icon {
            font-size: 3rem;
            color: var(--accent-blue);
            margin-right: 15px;
        }
        .platform-name {
            font-size: 1.5rem;
            font-weight: 700;
            margin: 0;
        }
        .platform-name span {
            display: block;
            font-size: 0.85rem;
            font-weight: 500;
            color: #999;
        }

        .variant-list {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .variant-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 0;
            border-top: 1px dashed var(--grid-color);
        }
        .variant-item:first-child { border-top: none; }

        .version-info {
            flex-grow: 1;
            text-align: left;
            margin-right: 10px;
        }
        .version-info small {
            display: block;
            color: #888;
            font-size: 0.8rem;
        }

        /* --- ä¸‹è½½æŒ‰é’® --- */
        .download-btn {
            background-color: var(--accent-blue);
            color: var(--bg-dark);
            padding: 8px 20px;
            border-radius: 20px;
            text-decoration: none;
            font-weight: 700;
            transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
            white-space: nowrap;
            box-shadow: none;
        }

        /* 2. å¢å¼ºæŒ‰é’® Hover/Focus å‘å…‰æ•ˆæœ */
        .download-btn:hover, .download-btn:focus {
            background-color: #00ceff;
            /* æ›´å¼ºçƒˆçš„å‘å…‰å’Œ Z è½´é˜´å½± */
            box-shadow: 0 0 15px rgba(0, 224, 255, 0.9), 0 4px 10px rgba(0, 0, 0, 0.4); 
            transform: translateY(-2px);
            outline: none;
        }
        
        .download-btn.buy-link {
            background-color: #444;
            color: var(--text-light);
            border: 1px solid #666;
            box-shadow: none !important;
        }
        .download-btn.buy-link:hover {
            background-color: #555;
            box-shadow: none !important;
            transform: none;
        }

        /* --- è¾…åŠ©ä¿¡æ¯å’Œ CTA (ä¿æŒä¸å˜) --- */
        .footer-section {
            display: flex;
            gap: 25px;
        }
        .support-info {
            flex: 2;
            padding: 20px;
            background-color: #1a1a1a;
            border-radius: var(--border-radius-lg);
            border: 1px solid #333;
            font-size: 0.9rem;
        }
        .support-info p {
            margin: 10px 0;
            color: #aaa;
        }
        .support-info a {
            color: var(--accent-blue);
            text-decoration: none;
        }
        .support-info a:hover {
            text-decoration: underline;
        }

        .cta-group {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        .cta-btn {
            text-align: center;
            padding: 15px 20px;
            border-radius: var(--border-radius-lg);
            font-size: 1.1rem;
            font-weight: 700;
            transition: all 0.3s;
        }
        .cta-btn.primary {
            background-color: #5856d6;
            color: white;
            box-shadow: 5px 5px 15px rgba(88, 86, 214, 0.4);
        }
        .cta-btn.primary:hover {
            background-color: #4a48c4;
            box-shadow: 0 5px 20px rgba(88, 86, 214, 0.6);
            transform: translateY(-2px);
        }
        .cta-btn.secondary {
            background-color: transparent;
            border: 2px solid var(--accent-blue);
            color: var(--accent-blue);
        }
        .cta-btn.secondary:hover {
            background-color: rgba(0, 224, 255, 0.1);
            transform: translateY(-2px);
        }

        /* --- å“åº”å¼è®¾è®¡ --- */
        @media (max-width: 900px) {
            .footer-section {
                flex-direction: column;
            }
            .title {
                font-size: 2rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header class="header">
            <img src="./img/icon_512x512@2x.png" alt="ç»´CåŠ é€Ÿ Logo" class="logo">
            <h1 class="title">ç»´CåŠ é€Ÿå®¢æˆ·ç«¯ä¸‹è½½</h1>
            <p class="subtitle">ç³»ç»Ÿè‡ªåŠ¨åˆ†æä¸­ï¼Œè¯·ä¸‹è½½é€‚é…æ‚¨ç³»ç»Ÿæ¶æ„çš„å®¢æˆ·ç«¯ã€‚<span id="os-display" style="margin-left: 10px; font-weight: bold; color: var(--accent-blue);"></span></p>
        </header>

        <main class="download-grid" id="download-matrix">
            
            <div class="platform-card" data-os="windows">
                <div class="card-header">
                    <i class="fab fa-windows platform-icon"></i>
                    <div>
                        <h2 class="platform-name">Windows ç”µè„‘ <span>Windows / PC / Win10+</span></h2>
                    </div>
                </div>
                <ul class="variant-list">
                    <li class="variant-item" data-os-variant="windows-setup">
                        <div class="version-info">å®‰è£…ç‰ˆæœ¬ (æ¨è) <small data-version-target="true"></small></div>
                        <a href="#" class="download-btn" rel="nofollow" target="_blank" data-download-type="windows-setup">ä¸‹è½½ EXE</a>
                    </li>
                    <li class="variant-item" data-os-variant="windows-zip">
                        <div class="version-info">å…å®‰è£…ç‰ˆæœ¬ (ZIP) <small data-version-target="true"></small></div>
                        <a href="#" class="download-btn" rel="nofollow" target="_blank" data-download-type="windows-zip">ä¸‹è½½ ZIP</a>
                    </li>
                </ul>
            </div>

            <div class="platform-card" data-os="macos">
                <div class="card-header">
                    <i class="fab fa-apple platform-icon"></i>
                    <div>
                        <h2 class="platform-name">macOS ç”µè„‘ <span>MacBook / iMac / OS X</span></h2>
                    </div>
                </div>
                <ul class="variant-list">
                    <li class="variant-item" data-os-variant="macos-arm64">
                        <div class="version-info">M ç³»åˆ—å¤„ç†å™¨ <small data-version-target="true">M1 / M2 / M3 / M4 (ARM64)</small></div>
                        <a href="#" class="download-btn" rel="nofollow" target="_blank" data-download-type="macos-arm64">ä¸‹è½½ DMG</a>
                    </li>
                    <li class="variant-item" data-os-variant="macos-amd64">
                        <div class="version-info">Intel ç³»åˆ—å¤„ç†å™¨ <small data-version-target="true">è€æ¬¾ Mac (AMD64)</small></div>
                        <a href="#" class="download-btn" rel="nofollow" target="_blank" data-download-type="macos-amd64">ä¸‹è½½ DMG</a>
                    </li>
                </ul>
            </div>
            
            <div class="platform-card" data-os="android">
                <div class="card-header">
                    <i class="fab fa-android platform-icon"></i>
                    <div>
                        <h2 class="platform-name">Android / é¸¿è’™ <span>æ‰‹æœº / å¹³æ¿ / ç”µè§†TV</span></h2>
                    </div>
                </div>
                <ul class="variant-list">
                    <li class="variant-item" data-os-variant="android-arm64">
                        <div class="version-info">æ–°æœºå‹ / ç”µè§†TV (ARM64) <small data-version-target="true">ä¸»æµå®‰å“è®¾å¤‡</small></div>
                        <a href="#" class="download-btn" rel="nofollow" target="_blank" data-download-type="android-arm64">ä¸‹è½½ APK</a>
                    </li>
                    <li class="variant-item" data-os-variant="android-arm32">
                        <div class="version-info">è€æœºå‹ / å…¼å®¹ç‰ˆæœ¬ (ARM32) <small data-version-target="true">éƒ¨åˆ†æ—§æ¬¾æ‰‹æœº</small></div>
                        <a href="#" class="download-btn" rel="nofollow" target="_blank" data-download-type="android-arm32">ä¸‹è½½ APK</a>
                    </li>
                    <li class="variant-item" data-os-variant="android-x86">
                        <div class="version-info">å¹³æ¿ç”µè„‘ (x86) <small data-version-target="true">ç‰¹æ®Šå¹³æ¿æˆ–æ¨¡æ‹Ÿå™¨</small></div>
                        <a href="#" class="download-btn" rel="nofollow" target="_blank" data-download-type="android-x86">ä¸‹è½½ APK</a>
                    </li>
                </ul>
            </div>

            <div class="platform-card" data-os="ios">
                <div class="card-header">
                    <i class="fas fa-mobile-alt platform-icon"></i>
                    <div>
                        <h2 class="platform-name">iOS è‹¹æœæ‰‹æœº <span>iPhone / iPad / App Store</span></h2>
                    </div>
                    
                </div>
                <ul class="variant-list">
                    <li class="variant-item" data-os-variant="ios">
                        <div class="version-info">AppStore å®˜æ–¹æ¸ é“ <small>ç¬¬ä¸‰æ–¹å®¢æˆ·ç«¯</small><small>Shadowrocket(å°ç«ç®­)</small></div>
                        <a href="https://shop.vcnets.top" class="download-btn" rel="nofollow" target="_blank">ç‚¹å‡»è·å–</a>
                    </li>
                </ul>
            </div>
        </main>

        <section class="footer-section">
            <div class="support-info">
                <h3>ğŸ›  å®¢æˆ·ç«¯éƒ¨ç½²æŒ‡å—</h3>
                <p>âš ï¸ Windows æç¤ºï¼š å¦‚æœè¿è¡Œå®¢æˆ·ç«¯æ—¶å‡ºç°é”™è¯¯ï¼Œè¯· <a href="https://down.vcnetapp.top/Microsoft_Visual_C++_4.7.25.0306.exe" target="_blank">ä¸‹è½½ VC++ è¿è¡Œåº“åˆé›†</a>ã€‚</p>
                <p>ğŸ macOS æç¤ºï¼š é‡åˆ°ã€Œæ— æ³•å¼€å¯Appï¼Œå› ä¸ºæ¥è‡ªæœªçŸ¥çš„å¼€å‘è€…ã€æç¤ºæ—¶ï¼Œè¯· <a href="https://support.apple.com/zh-tw/guide/mac-help/mh40616/mac" target="_blank">å‚è€ƒ Apple å®˜æ–¹å¸®åŠ©æ–‡æ¡£</a> è¿›è¡Œæˆæƒã€‚</p>
                <p>ğŸŒ æµè§ˆå™¨å…¼å®¹æ€§ï¼š è‹¥åœ¨å¾®ä¿¡æˆ– QQ æµè§ˆå™¨å†…æ— æ³•ä¸‹è½½ï¼Œè¯·ä½¿ç”¨ç³»ç»Ÿè‡ªå¸¦çš„æµè§ˆå™¨æ‰“å¼€æ­¤é¡µé¢ã€‚</p>
            </div>
            <div class="cta-group">
                <a class="cta-btn primary" href="https://shop.vcnets.top" target="_blank">è´­ä¹°åŠ é€ŸèŠ‚ç‚¹</a>
                <a class="cta-btn secondary" href="https://doc.vcnets.top/doc/1/" target="_blank">æŸ¥çœ‹è¯¦ç»†ä½¿ç”¨æ•™ç¨‹</a>
            </div>
        </section>

    </div>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        // --- æ ¸å¿ƒé…ç½®ï¼šé›†ä¸­ç®¡ç†ç‰ˆæœ¬å· ---
        const LATEST_VERSION = '1.0.7';
        const BASE_URL = 'https://down.vcnetapp.top/VcNet-';

        const DOWNLOAD_LINKS = {
            'windows-setup': `${BASE_URL}${LATEST_VERSION}-windows-amd64-setup.exe`,
            'windows-zip': `${BASE_URL}${LATEST_VERSION}-windows-amd64.zip`,
            'macos-arm64': `${BASE_URL}${LATEST_VERSION}-macos-arm64.dmg`,
            'macos-amd64': `${BASE_URL}${LATEST_VERSION}-macos-amd64.dmg`,
            'android-arm64': `${BASE_URL}${LATEST_VERSION}-android-arm64-v8a.apk`,
            'android-arm32': `${BASE_URL}${LATEST_VERSION}-android-armeabi-v7a.apk`,
            'android-x86': `${BASE_URL}${LATEST_VERSION}-android-x86_64.apk`,
        };
        
        // å®šä¹‰å¡ç‰‡åˆ†ç»„é¡ºåº
        const desktopOS = ['windows', 'macos'];
        const mobileOS = ['android', 'ios'];
        const osDisplay = document.getElementById('os-display');

        // --- 1. æ›´æ–°æ‰€æœ‰ç‰ˆæœ¬å·æ˜¾ç¤ºå’Œä¸‹è½½é“¾æ¥ ---
        function populateVersionsAndLinks() {
            document.querySelectorAll('.variant-item').forEach(item => {
                const variant = item.getAttribute('data-os-variant');
                
                // æ›´æ–°ç‰ˆæœ¬å·æ–‡æœ¬ (small æ ‡ç­¾)
                const smallTag = item.querySelector('.version-info small');
                if (smallTag && smallTag.hasAttribute('data-version-target')) {
                    const existingText = smallTag.textContent.trim();
                    smallTag.textContent = existingText ? `${existingText} v${LATEST_VERSION}` : `æœ€æ–°ç‰ˆ v${LATEST_VERSION}`;
                }

                // æ›´æ–°ä¸‹è½½é“¾æ¥ (a æ ‡ç­¾)
                const downloadBtn = item.querySelector('.download-btn');
                if (downloadBtn && DOWNLOAD_LINKS[variant]) {
                    downloadBtn.href = DOWNLOAD_LINKS[variant];
                }
            });
        }

        // --- 2. æ ¸å¿ƒç³»ç»Ÿæ£€æµ‹å’Œæ¸²æŸ“é€»è¾‘ ---
        async function detectAndRender() {
            const ua = navigator.userAgent;
            let arch = ''; 
            let platformName = '';
            
            let isAndroid = /Android/i.test(ua);
            let isWindows = /Win/i.test(ua);
            let isMacOS = /Macintosh/i.test(ua) || navigator.platform.startsWith('Mac');
            let isIOS = /iPhone|iPad|iPod/i.test(ua);

            // --- A. UA-CH (High Entropy) å¢å¼ºæ£€æµ‹ ---
            if (window.navigator.userAgentData) {
                try {
                    const hints = await navigator.userAgentData.getHighEntropyValues(['architecture', 'platform']);
                    arch = hints.architecture || '';
                    platformName = hints.platform || '';
                    
                    // åŸºäº UA-CH é‡æ–°æ ¡å‡† OS å˜é‡
                    isMacOS = (hints.platform === 'macOS');
                    isWindows = (hints.platform === 'Windows');
                    isAndroid = (hints.platform === 'Android');
                    
                } catch (e) {
                    arch = /arm64|aarch64/i.test(ua) ? 'arm64' : (/x64|amd64/i.test(ua) ? 'amd64' : 'unknown');
                }
            } else {
                // Fallback
                arch = /arm64|aarch64/i.test(ua) ? 'arm64' : (/x64|amd64/i.test(ua) ? 'amd64' : 'unknown');
                platformName = isWindows ? 'Windows' : (isMacOS ? 'macOS' : (isAndroid ? 'Android' : (isIOS ? 'iOS' : 'Other')));
            }
            
            // å®æ—¶æ˜¾ç¤ºæ£€æµ‹ç»“æœç»™ç”¨æˆ·
            let displayArch = arch.toUpperCase() || 'æœªçŸ¥æ¶æ„';
            if (osDisplay) {
                osDisplay.textContent = ` (æ‚¨çš„ç³»ç»Ÿæ¶æ„: ${platformName} ${displayArch})`;
            }

            let osToPrepend = null;
            let recommendedVariant = null;

            // --- B. ç¡®å®šæœ€åŒ¹é…çš„ç³»ç»Ÿå’Œç‰ˆæœ¬å˜ä½“ ---
            if (isIOS) {
                osToPrepend = 'ios';
                recommendedVariant = 'ios';
            } else if (isAndroid) {
                osToPrepend = 'android';
                if (arch.startsWith('arm64') || /arm64|aarch64/i.test(ua)) {
                    recommendedVariant = 'android-arm64';
                } else if (arch.startsWith('x86') || /x86_64|x86/i.test(ua)) {
                    recommendedVariant = 'android-x86';
                } else {
                    recommendedVariant = 'android-arm32';
                }
            } else if (isWindows) {
                osToPrepend = 'windows';
                recommendedVariant = 'windows-setup';
            } else if (isMacOS) {
                osToPrepend = 'macos';
                // Mac Mç³»åˆ—èŠ¯ç‰‡ (ARM64) ä¼˜å…ˆï¼Œä¿®å¤å…¼å®¹æ€§é—®é¢˜
                if (arch.startsWith('arm') || /arm64|aarch64/i.test(ua)) { 
                    recommendedVariant = 'macos-arm64';
                } else {
                    recommendedVariant = 'macos-amd64';
                }
            }

            // --- C. è®¾å¤‡ç±»å‹ä¼˜å…ˆæ’åºå’Œé«˜äº® ---
            if (osToPrepend) {
                const downloadGrid = document.getElementById('download-matrix');
                const allCards = Array.from(downloadGrid.querySelectorAll('.platform-card'));
                let targetCardOrder = [];

                // ç¡®å®šå½“å‰è®¾å¤‡ç±»å‹ï¼Œä»¥åŠä¸»/æ¬¡è¦åˆ†ç»„
                const isMobileDevice = mobileOS.includes(osToPrepend);
                const primaryGroup = isMobileDevice ? mobileOS : desktopOS;
                const secondaryGroup = isMobileDevice ? desktopOS : mobileOS;
                
                // 1. å°†æ£€æµ‹åˆ°çš„å¡ç‰‡æ”¾åœ¨ç¬¬ä¸€ä½
                targetCardOrder.push(osToPrepend);

                // 2. å°†åŒç±»å‹ä¸”éæ£€æµ‹åˆ°çš„å¡ç‰‡æ”¾åœ¨ç¬¬äºŒä½ (ä¾‹å¦‚ï¼šMac ç”¨æˆ·ï¼Œç¬¬äºŒä¸ªæ˜¯ Windows)
                const otherPrimaryOs = primaryGroup.filter(os => os !== osToPrepend);
                targetCardOrder.push(...otherPrimaryOs);

                // 3. å°†å¼‚ç±»å‹å¡ç‰‡æ”¾åœ¨æœ€å (ä¿æŒåŸæœ‰çš„ç›¸å¯¹é¡ºåº: Android -> iOS æˆ– Windows -> Mac)
                // æ³¨æ„ï¼šå¦‚æœåŸ HTML é¡ºåºæ˜¯ Windows, Mac, Android, iOSï¼Œåˆ™è¿™é‡Œåº”è¯¥ä¿æŒ
                if (isMobileDevice) {
                    targetCardOrder.push('windows', 'macos'); 
                } else {
                    targetCardOrder.push('android', 'ios');
                }
                
                // è¿‡æ»¤æ‰é‡å¤é¡¹ï¼Œç¡®ä¿æœ€ç»ˆåˆ—è¡¨å”¯ä¸€
                const finalOrder = [...new Set(targetCardOrder)];


                // 4. é‡æ–°æ’åˆ— DOM
                const cardMap = {};
                allCards.forEach(card => cardMap[card.getAttribute('data-os')] = card);

                // æ¸…ç©ºå®¹å™¨ï¼Œå‡†å¤‡é‡æ’
                downloadGrid.innerHTML = ''; 

                // æ’å…¥æ–°é¡ºåºçš„å¡ç‰‡
                finalOrder.forEach(osKey => {
                    const card = cardMap[osKey];
                    if (card) {
                        // ç§»é™¤æ—§çš„æ¨èæ ·å¼
                        card.classList.remove('recommended');
                        // é‡æ–°æ’å…¥
                        downloadGrid.appendChild(card);
                    }
                });

                // 5. åº”ç”¨é«˜äº®å’Œæ¨èæ ·å¼åˆ°æ£€æµ‹åˆ°çš„å¡ç‰‡
                const detectedCard = cardMap[osToPrepend];
                if (detectedCard) {
                    detectedCard.classList.add('recommended');
                }

                // è¯†åˆ«æœ€åˆé€‚çš„ç‰ˆæœ¬å¹¶å¯¹å…¶ä¸‹è½½æŒ‰é’®è¿›è¡Œæ›´å¼ºçš„è§†è§‰çªå‡º
                const recommendedItem = document.querySelector(`[data-os-variant="${recommendedVariant}"]`);
                if (recommendedItem) {
                    const downloadBtn = recommendedItem.querySelector('.download-btn');
                    if(downloadBtn) {
                        downloadBtn.style.backgroundColor = '#00f6ff'; 
                        downloadBtn.style.boxShadow = '0 0 18px rgba(0, 246, 255, 1), 0 0 10px rgba(0, 246, 255, 0.5)';
                        downloadBtn.style.transform = 'scale(1.05)';
                    }
                }
            }
        }

        // --- 3. è¿è¡Œåˆå§‹åŒ–å’Œå…¼å®¹æ€§è„šæœ¬ ---
        populateVersionsAndLinks();
        detectAndRender(); // è¿è¡Œå¼‚æ­¥æ£€æµ‹å’Œæ¸²æŸ“
        
        (function(){
            var ua=navigator.userAgent.toLowerCase();
            var isWeChat=ua.includes('micromessenger');
            var isQQBrowser=ua.includes('qq/')||ua.includes('qqbrowser');
            if(isWeChat||isQQBrowser){
                document.title='è¯·ä½¿ç”¨å†…ç½®æµè§ˆå™¨æ‰“å¼€';
                document.body.innerHTML=`<div style="text-align: center; color: white; padding-top: 50px;">
                    <p style="font-size: 1.5rem;">è¯·ä½¿ç”¨ç³»ç»Ÿå†…ç½®æµè§ˆå™¨æ‰“å¼€æ­¤é¡µé¢ä»¥ä¸‹è½½æ–‡ä»¶</p>
                    <img src="https://www.vcnets.top/wx1.jpg" alt="æ“ä½œå¼•å¯¼" style="width: 100%; max-width: 500px; margin-top: 20px;">
                </div>`;
            } else {
                if(window.location.hostname==='www.vcnet.sbs'){
                    const currentPath=window.location.pathname+window.location.search+window.location.hash;
                    window.location.href='https://www.vcnets.top'+currentPath
                }
            }
        })();
    });
</script>
<script charset="UTF-8" id="LA_COLLECT" src="//sdk.51.la/js-sdk-pro.min.js"></script>
<script>LA.init({id:"3LdNey2DYD7TBmHS",ck:"3LdNey2DYD7TBmHS"})</script>
</body>
</html>
